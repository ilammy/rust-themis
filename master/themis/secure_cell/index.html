<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `secure_cell` mod in crate `themis`."><meta name="keywords" content="rust, rustlang, rust-lang, secure_cell"><title>themis::secure_cell - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><link rel="stylesheet" type="text/css" href="../../theme.css"><link rel="shortcut icon" href="https://rust-themis.ilammy.net/images/favicon.png"></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><div class="version-picker"><p>
Themis version:
<a href="https://rust-themis.ilammy.net/master/themis/index.html" class="current-version">master</a>
<a href="https://rust-themis.ilammy.net/0.0.2/themis/index.html" class="old-version">0.0.2</a>
<a href="https://rust-themis.ilammy.net/0.0.1/themis/index.html" class="old-version">0.0.1</a>
</p></div>
<div class="rustdoc-container">

<nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../themis/index.html'><img src='https://rust-themis.ilammy.net/images/logo.png' alt='logo' width='100'></a><p class='location'>Module secure_cell</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li></ul></div><p class='location'><a href='../index.html'>themis</a></p><script>window.sidebarCurrent = {name: 'secure_cell', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><input class="search-input" name="search" autocomplete="off" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span></span><span class='in-band'>Module <a href='../index.html'>themis</a>::<wbr><a class="mod" href=''>secure_cell</a></span></h1><div class='docblock'><p>Secure Cell for data storage.</p>
<p><strong>Secure Сell</strong> is a high-level cryptographic service aimed at protecting arbitrary data
stored in various types of storage (e.g., databases, filesystem files, document archives,
cloud storage, etc.) It provides both strong symmetric encryption and data authentication
mechanism.</p>
<p>The general approach is that given:</p>
<ul>
<li><em>input:</em> some source data to protect</li>
<li><em>master key:</em> a password</li>
<li><em>context:</em> and an optional “context information”</li>
</ul>
<p>Secure Cell will produce:</p>
<ul>
<li><em>cell:</em> the encrypted data</li>
<li><em>authentication tag:</em> some authentication data</li>
</ul>
<p>The purpose of the optional “context information” (e.g., a database row number or file name)
is to establish a secure association between this context and the protected data. In short,
even when the password is known, if the context is incorrect then decryption will fail.</p>
<p>The purpose of the authentication data is to validate that given a correct password
(and context), the decrypted data is indeed the same as the original source data.</p>
<p>The authentication data must be stored somewhere. The most convenient way is to simply
append it to the encrypted data, but this is not always possible due to the storage
architecture of your application. Secure Cell offers variants that address this issue
in different ways.</p>
<p>By default, Secure Cell uses AES-256 for encryption. Authentication data is 16 bytes long.</p>
<p>Secure Cell supports 3 operation modes:</p>
<ul>
<li>
<p><strong><a href="struct.SecureCellSeal.html">Sealing mode</a>:</strong> the mode that is the most secure and easy to use.
Your best choice most of the time.</p>
</li>
<li>
<p><strong><a href="struct.SecureCellTokenProtect.html">Token protect mode</a>:</strong> the mode just as secure, but a bit harder
to use. This is your choice if you need to keep authentication data
separately.</p>
</li>
<li>
<p><strong><a href="struct.SecureCellContextImprint.html">Context imprint mode</a>:</strong> length-preserving version of Secure Cell
with no additional data stored. Should be used carefully.</p>
</li>
</ul>
<p>The operation mode is selected via an appropriate method of a basic <a href="struct.SecureCell.html"><code>SecureCell</code></a> object.
<a href="https://github.com/cossacklabs/themis/wiki/Secure-Cell-cryptosystem">Here you can learn more</a>
about the underlying considerations, limitations, and features of each mode.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<p>Here is how you use Secure Cell to seal away your data:</p>

<pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">themis</span>::<span class="ident">secure_cell</span>::<span class="ident">SecureCell</span>;

<span class="kw">let</span> <span class="ident">cell</span> <span class="op">=</span> <span class="ident">SecureCell</span>::<span class="ident">with_key_and_context</span>(<span class="string">b&quot;seekryt&quot;</span>, <span class="kw-2">&amp;</span>[<span class="number">1</span>, <span class="number">42</span>]).<span class="ident">seal</span>();

<span class="kw">let</span> <span class="ident">encrypted</span> <span class="op">=</span> <span class="ident">cell</span>.<span class="ident">encrypt</span>(<span class="string">b&quot;source data&quot;</span>)<span class="question-mark">?</span>;
<span class="kw">let</span> <span class="ident">decrypted</span> <span class="op">=</span> <span class="ident">cell</span>.<span class="ident">decrypt</span>(<span class="kw-2">&amp;</span><span class="ident">encrypted</span>)<span class="question-mark">?</span>;
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">decrypted</span>, <span class="string">b&quot;source data&quot;</span>);</pre>
<p>You can find more examples for each operation mode in their respective documentation.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.SecureCell.html"
                                  title='struct themis::secure_cell::SecureCell'>SecureCell</a></td>
                           <td class='docblock-short'>
                                <p>Basic Secure Cell.</p>

                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.SecureCellContextImprint.html"
                                  title='struct themis::secure_cell::SecureCellContextImprint'>SecureCellContextImprint</a></td>
                           <td class='docblock-short'>
                                <p>Secure Cell in <em>context imprint</em> operation mode.</p>

                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.SecureCellSeal.html"
                                  title='struct themis::secure_cell::SecureCellSeal'>SecureCellSeal</a></td>
                           <td class='docblock-short'>
                                <p>Secure Cell in <em>sealing</em> operation mode.</p>

                           </td>
                       </tr>
                       <tr class=' module-item'>
                           <td><a class="struct" href="struct.SecureCellTokenProtect.html"
                                  title='struct themis::secure_cell::SecureCellTokenProtect'>SecureCellTokenProtect</a></td>
                           <td class='docblock-short'>
                                <p>Secure Cell in <em>token protect</em> operation mode.</p>

                           </td>
                       </tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g. <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g. <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g. <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside></div>

<script>window.rootPath = "../../";window.currentCrate = "themis";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>